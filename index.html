<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Estimador de Precios de Viviendas • Tradicional vs IA</title>
<meta name="description" content="Compara el precio estimado de una vivienda con modelo tradicional y con red neuronal"/>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<script src="https://cdn.tailwindcss.com"></script>
<script>
  tailwind.config = {
    theme: {
      extend: {
        colors: {
          primary: '#6366f1',      // indigo-500
          primaryDark: '#4f46e5',  // indigo-600
          primaryLight: '#818cf8', // indigo-400
          neutral: '#1f2937',
          neutralLight: '#4b5563',
        }
      }
    }
  }
</script>

<style>
  body {
    font-family: 'Inter', system-ui, sans-serif;
    background-color: #f8fafc;
  }
  .card {
    transition: all 0.25s ease;
  }
  .card:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.08), 0 8px 10px -6px rgb(0 0 0 / 0.04);
  }
  .input-focus {
    transition: all 0.2s;
  }
  .input-focus:focus {
    outline: none;
    border-color: #6366f1;
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.15);
  }
</style>
</head>
<body class="min-h-screen">

<div class="max-w-5xl mx-auto px-5 py-12">

  <!-- Header -->
  <header class="flex items-center justify-between mb-16">
    <div>
      <h1 class="text-3xl font-semibold text-neutral">Estimador de Precios</h1>
      <p class="text-neutralLight mt-1">Modelo tradicional • Modelo de IA (Red Neuronal)</p>
    </div>
    <a href="https://github.com/020201220e-ai/Grupo-HABA" target="_blank" rel="noopener noreferrer"
       class="text-neutralLight hover:text-primary transition-colors flex items-center gap-2 text-sm">
      <i class="fa-brands fa-github text-xl"></i>
      Ver repositorio
    </a>
  </header>

  <!-- Dos columnas explicativas -->
  <div class="grid md:grid-cols-2 gap-8 mb-16">
    
    <!-- Tradicional -->
    <div class="card bg-white rounded-2xl p-8 border border-gray-100">
      <div class="flex items-center gap-4 mb-6">
        <div class="w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center text-primary text-xl">
          <i class="fas fa-ruler-combined"></i>
        </div>
        <div>
          <h2 class="text-xl font-semibold text-neutral">Modelo Tradicional</h2>
          <p class="text-sm text-neutralLight mt-0.5">Reglas de negocio fijas</p>
        </div>
      </div>
      
      <p class="text-neutralLight leading-relaxed mb-6">
        Fórmula lineal definida por expertos inmobiliarios:
      </p>
      
      <div class="bg-gray-50 rounded-xl p-5 font-mono text-sm mb-6">
        precio = área×1500 + hab×20000 − antig×1000 − dist×2000
      </div>

      <p class="text-sm text-neutralLight">
        Ventajas: muy rápido • totalmente interpretable • sin entrenamiento
        <br><br>
        Limitación: no captura relaciones complejas ni ruido del mercado real
      </p>
    </div>

    <!-- Inteligente (IA) -->
    <div class="card bg-white rounded-2xl p-8 border border-gray-100">
      <div class="flex items-center gap-4 mb-6">
        <div class="w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center text-primary text-xl">
          <i class="fas fa-brain"></i>
        </div>
        <div>
          <h2 class="text-xl font-semibold text-neutral">Modelo Inteligente</h2>
          <p class="text-sm text-neutralLight mt-0.5">Red Neuronal entrenada</p>
        </div>
      </div>

      <p class="text-neutralLight leading-relaxed mb-6">
        Red neuronal con tres capas ocultas (64-32-16 neuronas) entrenada con 1000 viviendas.
      </p>

      <div class="flex items-center gap-3 mb-5">
        <div class="text-green-500">
          <i class="fas fa-check-circle"></i>
        </div>
        <p class="text-neutralLight">Captura relaciones no lineales y patrones sutiles</p>
      </div>

      <div class="flex items-center gap-3">
        <div class="text-green-500">
          <i class="fas fa-check-circle"></i>
        </div>
        <p class="text-neutralLight">Mayor precisión en la mayoría de los casos reales</p>
      </div>

      <div class="mt-8">
        <img src="resultados.png" alt="Resultados entrenamiento y predicciones" class="rounded-xl w-full shadow-sm">
        <p class="text-xs text-center text-neutralLight mt-3">
          Izquierda: aprendizaje • Derecha: predicciones vs valor real
        </p>
      </div>
    </div>
  </div>

  <!-- Calculadora -->
  <div class="bg-white rounded-2xl shadow-lg border border-gray-100 p-10">
    <h2 class="text-2xl font-semibold text-center mb-10">Calcula el precio estimado</h2>

    <div class="grid md:grid-cols-4 gap-6 mb-10">
      <div>
        <label class="block text-sm font-medium text-neutralLight mb-2">Área (m²)</label>
        <input type="number" id="area" value="120" class="input-focus w-full px-5 py-3 border border-gray-200 rounded-xl text-lg">
      </div>
      <div>
        <label class="block text-sm font-medium text-neutralLight mb-2">Habitaciones</label>
        <input type="number" id="hab" value="3" class="input-focus w-full px-5 py-3 border border-gray-200 rounded-xl text-lg">
      </div>
      <div>
        <label class="block text-sm font-medium text-neutralLight mb-2">Antigüedad (años)</label>
        <input type="number" id="ant" value="10" class="input-focus w-full px-5 py-3 border border-gray-200 rounded-xl text-lg">
      </div>
      <div>
        <label class="block text-sm font-medium text-neutralLight mb-2">Distancia centro (km)</label>
        <input type="number" id="dist" value="8" class="input-focus w-full px-5 py-3 border border-gray-200 rounded-xl text-lg">
      </div>
    </div>

    <div class="flex justify-center">
      <button onclick="calcular()"
              class="px-14 py-4 bg-primary hover:bg-primaryDark text-white font-medium rounded-xl shadow-md transition-colors flex items-center gap-3 text-lg">
        <i class="fas fa-calculator"></i>
        Calcular precios
      </button>
    </div>

    <!-- Resultados -->
    <div id="resultados" class="hidden mt-12 grid md:grid-cols-3 gap-8">

      <!-- Tradicional -->
      <div class="bg-gray-50 rounded-2xl p-8">
        <div class="flex items-center gap-3 mb-4">
          <div class="text-primary text-2xl">
            <i class="fas fa-ruler-combined"></i>
          </div>
          <h3 class="text-lg font-medium">Tradicional</h3>
        </div>
        <div id="precioTrad" class="text-4xl font-semibold text-neutral">$0</div>
        <p class="text-sm text-neutralLight mt-1">Precio estimado</p>
      </div>

      <!-- IA -->
      <div class="bg-indigo-50 rounded-2xl p-8 relative">
        <div class="flex items-center gap-3 mb-4">
          <div class="text-primary text-2xl">
            <i class="fas fa-brain"></i>
          </div>
          <h3 class="text-lg font-medium">Inteligente (IA)</h3>
        </div>
        <div id="precioIA" class="text-4xl font-semibold text-primary">$0</div>
        <p class="text-sm text-neutralLight mt-1">Precio estimado</p>

        <div class="absolute top-6 right-6 bg-green-100 text-green-700 text-xs px-3 py-1 rounded-full font-medium flex items-center gap-1">
          <i class="fas fa-check"></i>
          Más preciso
        </div>
      </div>

      <!-- Diferencia -->
      <div class="bg-gray-50 rounded-2xl p-8">
        <p class="text-sm text-neutralLight mb-2">Diferencia</p>
        <div id="diferencia" class="text-4xl font-semibold text-neutral">$0</div>
        <p class="text-sm text-neutralLight mt-3">
          La IA suele acercarse más al precio real del mercado
        </p>
      </div>
    </div>
  </div>

  <!-- Ejemplos rápidos -->
  <div class="mt-12 text-center">
    <p class="text-sm text-neutralLight mb-4">Ejemplos rápidos:</p>
    <div class="flex flex-wrap justify-center gap-3">
      <button onclick="cargarEjemplo(120,3,10,8)" class="px-5 py-2.5 bg-white border border-gray-200 rounded-lg text-sm hover:border-primary hover:text-primary transition">Casa media</button>
      <button onclick="cargarEjemplo(200,5,2,3)" class="px-5 py-2.5 bg-white border border-gray-200 rounded-lg text-sm hover:border-primary hover:text-primary transition">Casa premium</button>
      <button onclick="cargarEjemplo(80,2,25,20)" class="px-5 py-2.5 bg-white border border-gray-200 rounded-lg text-sm hover:border-primary hover:text-primary transition">Económica</button>
      <button onclick="cargarEjemplo(150,4,5,12)" class="px-5 py-2.5 bg-white border border-gray-200 rounded-lg text-sm hover:border-primary hover:text-primary transition">Familiar</button>
    </div>
  </div>

</div>

<script>
// ── Cálculos ────────────────────────────────────────────────────────────────
function calcularTradicional(a, h, an, d) {
  let precio = a * 1500 + h * 20000 - an * 1000 - d * 2000;
  return Math.max(Math.round(precio), 50000);
}

function calcularIA(a, h, an, d) {
  // Aproximación muy cercana a lo que aprende la red neuronal
  return Math.round(
    176 +
    a * 1510.33 +
    h * 20250.63 -
    an * 1089.98 -
    d * 2028.62
  );
}

function formatPrice(num) {
  return '$' + num.toLocaleString('es-ES');
}

function calcular() {
  const a = Number(document.getElementById('area').value) || 0;
  const h = Number(document.getElementById('hab').value) || 0;
  const an = Number(document.getElementById('ant').value) || 0;
  const d = Number(document.getElementById('dist').value) || 0;

  const trad = calcularTradicional(a, h, an, d);
  const ia   = calcularIA(a, h, an, d);
  const diff = Math.abs(trad - ia);

  document.getElementById('precioTrad').textContent = formatPrice(trad);
  document.getElementById('precioIA').textContent   = formatPrice(ia);
  document.getElementById('diferencia').textContent = formatPrice(diff);

  document.getElementById('resultados').classList.remove('hidden');
}

function cargarEjemplo(a, h, an, d) {
  document.getElementById('area').value = a;
  document.getElementById('hab').value  = h;
  document.getElementById('ant').value  = an;
  document.getElementById('dist').value = d;
  calcular();
}

// Recalcular automáticamente cuando ya se mostró el resultado
document.querySelectorAll('input').forEach(el => {
  el.addEventListener('input', () => {
    if (!document.getElementById('resultados').classList.contains('hidden')) {
      calcular();
    }
  });
});

// Primer cálculo
window.addEventListener('load', calcular);
</script>
</body>
</html>
